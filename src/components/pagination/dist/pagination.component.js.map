{"version":3,"sources":["../src/pagination.component.js"],"names":["Pagination","props","getPageSummary","bind","getPageOption","handlePageChange","handlePageOptionChange","state","getInitialState","nextProps","setState","currentPageNumber","forcePage","currentPageSize","size","currentFirstPage","currentLastPage","dataSize","firstPage","lastPage","totalPages","total","currentPageOption","pageSummaryText","replace","__html","item","disabled","data","pageCount","Math","ceil","pageOptions","map","propTypes","number","isRequired","func","array","string","defaultProps"],"mappings":"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","file":"pagination.component.js","sourcesContent":["/**\n * <Pagination>. \n * options:\n *      total :- (Number | Required) //for total number of data\n *      size :- (Number | Required) //for total number of possible data per page\n *      dataSize :- (Number | Required) //for total number of data per page\n *      handlePageChange :- (func | optional) //for action on page change\n *      handlePageOptionChange :- (func | optional) //for action on page option change\n *      pageOptions :- (array | optional) //for provide page options, which helps to change data per page\n *                      ex: [10, 20, 50]\n *      pageSummaryText :- (html string | optional) //text to show in the place of page summary\n *                      ex: \"Showing <strong>#first_page# to #last_page#</strong> of #total_pages# entries\"\n * \n * Note: this component uses npm's react-paginate, so can pass it's supported props directly.\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactPaginate from 'react-paginate';\nimport {\n    isEmpty,\n    isFunction\n} from 'lodash';\nimport classNames from 'classnames';\nimport './../pagination.css';\nimport { \n    PAGE_OPTIONS, \n    PAGE_SUMMARY \n} from './pagination.constants';\n\nexport default class Pagination extends Component {\n    constructor(props) {\n        super(props);\n\n        //class actions binding\n        this.getPageSummary = this.getPageSummary.bind(this);\n        this.getPageOption = this.getPageOption.bind(this);\n        this.handlePageChange = this.handlePageChange.bind(this);\n        this.handlePageOptionChange = this.handlePageOptionChange.bind(this);\n\n        //default state init\n        this.state = this.getInitialState(props);\n    }\n\n    componentWillReceiveProps(nextProps) {\n        this.setState(this.getInitialState(nextProps));\n    }\n\n    getInitialState(props) {\n        const currentPageNumber = props.forcePage + 1;\n        const currentPageSize = props.size;\n        const currentFirstPage = ((currentPageNumber * currentPageSize) - currentPageSize) + 1;\n        const currentLastPage = (currentPageNumber * currentPageSize) - (currentPageSize - props.dataSize);\n        const state = {\n            firstPage: currentFirstPage,\n            lastPage: currentLastPage,\n            totalPages: props.total,\n            currentPageOption: currentPageSize\n        };\n        return state;\n    }\n\n    getPageSummary() {\n        const firstPage = this.state.firstPage;\n        const lastPage = this.state.lastPage;\n        const totalPages = this.state.totalPages;\n        const pageSummaryText = this.props.pageSummaryText\n                                    .replace('#first_count#', firstPage)\n                                    .replace('#last_count#', lastPage)\n                                    .replace('#total_counts#', totalPages);\n        return <div dangerouslySetInnerHTML={{ __html: pageSummaryText }} ></div>;\n    }\n\n    getPageOption(item) {\n        const disabled = item > this.props.total;\n        return <button key={item} disabled={disabled} className={classNames({'selected': item === this.state.currentPageOption, 'disabled': disabled})} onClick={item <= this.props.total && this.handlePageOptionChange.bind(this, item)}>{item}</button>\n    }\n\n    handlePageOptionChange(item) {\n        if (item === this.state.currentPageOption) return;\n\n        this.setState({\n            currentPageOption: item\n        })\n\n        if (isFunction(this.props.handlePageOptionChange)) {\n            this.props.handlePageOptionChange(item);\n        }\n    }\n\n    handlePageChange(data) {\n        if (isEmpty(data)) {\n            return;\n        }\n        if (isFunction(this.props.handlePageChange)) {\n            data.size = this.state.currentPageOption;\n            this.props.handlePageChange(data);\n        }\n    }\n\n    render() {\n        const pageCount = Math.ceil(this.props.total / this.props.size);\n        return (\n            this.props.total && pageCount > 1 ?\n                <div className=\"ofb-pagination\">\n                    <ReactPaginate \n                        pageCount={pageCount}\n                        pageRangeDisplayed={5}\n                        marginPagesDisplayed={2}\n                        {...this.props}\n                        onPageChange={this.handlePageChange}\n                    />\n                    <div className=\"pagination-page-range\">\n                        {this.props.pageOptions.map((item) => {\n                            return this.getPageOption(item)\n                        })}\n                    </div>\n                    <div className=\"pagination-page-summary\">\n                        {this.getPageSummary()}\n                    </div>\n                </div>\n            : null\n        );\n    }\n}\n\nPagination.propTypes = {\n    total: PropTypes.number.isRequired,\n    size: PropTypes.number.isRequired,\n    dataSize: PropTypes.number.isRequired,\n    forcePage: PropTypes.number,\n    handlePageChange: PropTypes.func,\n    handlePageOptionChange: PropTypes.func,\n    pageOptions: PropTypes.array,\n    pageSummaryText: PropTypes.string\n}\n\nPagination.defaultProps = {\n    forcePage: 0,\n    handlePageChange: null,\n    handlePageOptionChange: null,\n    pageOptions: PAGE_OPTIONS,\n    pageSummaryText: PAGE_SUMMARY\n}"]}